<Template name="Chilli's" author="ChilliAxe and Haven King" width="3288"
          height="4488"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="../../../template.xsd">
    <options>
        <ToggleOption id="bottom_text_outline" default="false"/>
        <ToggleOption id="copyright" default="true"/>
        <ToggleOption id="flavor_text" default="true"/>
        <ToggleOption id="flavor_bar" default="true"/>
        <ToggleOption id="show_set_symbol" default="true"/>
        <StringOption id="border" default="#FF000000"/>
    </options>
    <condition_definitions>
        <ConditionDefinition name="colorless_artifact">
            <IsPresent key="proximity.types.artifact"/>
            <IsEquals key="proximity.color_count" value="0"/>
        </ConditionDefinition>
        <ConditionDefinition name="one_or_two_colors">
            <Range key="proximity.color_count" min="1" max="2"/>
        </ConditionDefinition>
    </condition_definitions>
    <layers>
        <Fill x="0" y="0" width="3288" height="4488" color="${proximity.options.border}">
            <conditions>
                <Not>
                    <IsEquals key="proximity.options.border" value="none"/>
                </Not>
            </conditions>
            <Erase>
                <Fill x="423" y="2636" width="2442" height="1264" color="#FF000000"/>
            </Erase>
        </Fill>
        <ArtLayer x="476" y="549" width="2337" height="1875">
            <conditions>
                <IsEquals key="proximity.options.use_official_art"/>
            </conditions>
        </ArtLayer>
        <Selector id="frames">
            <Fork>
                <Selector>
                    <ImageLayer id="artifact">
                        <conditions>
                            <IsPresent key="proximity.types.artifact"/>
                            <IsPresent key="proximity.types.land" value="false"/>
                        </conditions>
                    </ImageLayer>
                    <ImageLayer id="colorless">
                        <conditions>
                            <IsEquals key="proximity.color_count" value="0"/>
                            <IsPresent key="proximity.types.land" value="false"/>
                        </conditions>
                    </ImageLayer>
                    <ImageLayer id="colored" src="${colors}">
                        <conditions>
                            <Or>
                                <IsEquals key="proximity.color_count" value="1"/>
                                <And>
                                    <IsEquals key="proximity.color_count" value="2"/>
                                    <IsEquals key="proximity.hybrid"/>
                                </And>
                            </Or>
                        </conditions>
                    </ImageLayer>
                    <ImageLayer id="gold">
                        <conditions>
                            <Range key="proximity.color_count" min="2"/>
                        </conditions>
                    </ImageLayer>
                </Selector>
                <branches>
                    <Branch id="land">
                        <IsPresent key="proximity.types.land"/>
                    </Branch>
                    <Branch id="standard"/>
                </branches>
            </Fork>
        </Selector>
        <SquishBox id="title_bar">
            <main id="cost">
                <TextLayer x="2915" y="470" alignment="right" value="$parse_cost{mana_cost}">
                    <Style font="NDPMTG" size="175"/>
                </TextLayer>
            </main>
            <flex>
                <Selector id="name">
                    <Selector id="dfc">
                        <TextLayer x="710" y="470" value="${name}">
                            <Style font="Goudy Medieval Alternate" color="#FFFFFF" size="160">
                                <shadow color="#000000" dX="5" dY="5"/>
                            </Style>
                        </TextLayer>
                        <conditions>
                            <IsPresent key="layout"/>
                            <Or>
                                <IsEquals key="layout" value="modal_dfc"/>
                                <IsEquals key="layout" value="transform"/>
                            </Or>
                        </conditions>
                    </Selector>
                    <TextLayer x="440" y="475" value="${name}">
                        <Style font="Goudy Medieval Alternate" color="#FFFFFF" size="160">
                            <shadow color="#000000" dX="5" dY="5"/>
                        </Style>
                    </TextLayer>
                </Selector>
            </flex>
        </SquishBox>
        <SquishBox>
            <main id="set_symbol">
                <Group>
                    <SpacingLayer x="2575" y="2483" width="250" height="140"/>
                    <SVG x="2700" y="2553" src="bg/${set}" width="242" height="140">
                        <outline color="#000000" weight="10"/>
                        <conditions>
                            <FileExists src="bg/${set}.svg"/>
                        </conditions>
                    </SVG>
                    <Selector>
                        <SVG x="2700" y="2553" src="${set}" width="242" height="140" solid="true" fill="#FFFFFF" force_outline="true">
                            <outline color="#FFFFFF" weight="10"/>
                            <conditions>
                                <Or>
                                    <IsEquals key="rarity" value="common"/>
                                    <IsEquals key="rarity" value="special"/>
                                </Or>
                            </conditions>
                        </SVG>
                        <SVG x="2700" y="2553" src="${set}" width="242" height="140" solid="true" fill="#000000" force_outline="true">
                            <outline color="#000000" weight="10"/>
                        </SVG>
                    </Selector>
                    <SVG x="2700" y="2553" src="rarities/${rarity}" width="800" height="800">
                        <Mask>
                            <SVG x="2700" y="2553" src="${set}" width="242" height="140"/>
                        </Mask>
                    </SVG>
                    <Selector>
                        <Group>
                            <SVG x="2700" y="2553" src="fg/${rarity}/${set}" width="242" height="140">
                                <outline color="#000000" weight="10"/>
                            </SVG>
                            <SVG x="2700" y="2553" src="fg/${rarity}/${set}" width="242" height="140">
                                <outline color="#FFFFFF" weight="0">
                                    <conditions>
                                        <Or>
                                            <IsEquals key="rarity" value="common"/>
                                            <IsEquals key="rarity" value="special"/>
                                        </Or>
                                    </conditions>
                                </outline>
                                <outline color="#000000" weight="0">
                                    <conditions>
                                        <Not>
                                            <Or>
                                                <IsEquals key="rarity" value="common"/>
                                                <IsEquals key="rarity" value="special"/>
                                            </Or>
                                        </Not>
                                    </conditions>
                                </outline>
                            </SVG>
                            <conditions>
                                <FileExists src="fg/${rarity}/${set}.svg"/>
                            </conditions>
                        </Group>
                        <Group>
                            <SVG x="2700" y="2553" src="fg/${set}" width="242" height="140">
                                <outline color="#000000" weight="10"/>
                            </SVG>
                            <SVG x="2700" y="2553" src="fg/${set}" width="242" height="140">
                                <outline color="#FFFFFF" weight="0">
                                    <conditions>
                                        <Or>
                                            <IsEquals key="rarity" value="common"/>
                                            <IsEquals key="rarity" value="special"/>
                                        </Or>
                                    </conditions>
                                </outline>
                                <outline color="#000000" weight="0">
                                    <conditions>
                                        <Not>
                                            <Or>
                                                <IsEquals key="rarity" value="common"/>
                                                <IsEquals key="rarity" value="special"/>
                                            </Or>
                                        </Not>
                                    </conditions>
                                </outline>
                            </SVG>
                            <conditions>
                                <FileExists src="fg/${set}.svg"/>
                            </conditions>
                        </Group>
                    </Selector>
                    <CardModifier key="set" value="xlcu">
                        <Not>
                            <FileExists src="${set}.svg"/>
                        </Not>
                    </CardModifier>
                </Group>
                <conditions>
                    <IsEquals key="proximity.options.show_set_symbol"/>
                </conditions>
            </main>
            <flex>
                <TextLayer id="front" x="453" y="2608" value="${type_line}">
                    <Style font="MPlantin" color="#FFFFFF" size="150">
                        <shadow color="#000000" dX="3" dY="3"/>
                    </Style>
                </TextLayer>
            </flex>
        </SquishBox>
        <Group id="oracle_text">
            <TextLayer id="mutate" value="$oracle_text{proximity.util.mutate_text}" x="495" y="2700" width="2298" height="500">
                <conditions>
                    <IsPresent key="keywords.mutate"/>
                </conditions>
            </TextLayer>
            <Selector>
                <VerticalLayout x="495" y="2666" width="2298" height="1200" alignment="middle">
                    <AttributeModifier name="y" value="3200">
                        <IsPresent key="keywords.mutate"/>
                    </AttributeModifier>
                    <AttributeModifier name="height" value="640">
                        <IsPresent key="keywords.mutate"/>
                    </AttributeModifier>
                    <TextLayer value="$oracle_text{oracle_text}">
                        <conditions>
                            <IsPresent key="oracle_text"/>
                        </conditions>
                    </TextLayer>
                    <VerticalLayout>
                        <SpacingLayer id="spacing1" width="10" height="150"/>
                        <TextLayer value="$flavor_text{flavor_text}"/>
                        <conditions>
                            <IsPresent key="flavor_text"/>
                            <IsEquals key="proximity.options.flavor_text"/>
                        </conditions>
                    </VerticalLayout>
                </VerticalLayout>
            </Selector>
            <Style font="MPlantin" italicFont="MPlantin-Italic" color="#000000" size="125"/>
        </Group>
        <TextLayer x="2740" y="4077" value="${power}/${toughness}" alignment="center">
            <Style font="MPlantin-Bold" color="#FFFFFF" size="180">
                <shadow color="#000000" dX="10" dY="5"/>
            </Style>
            <conditions>
                <Or>
                    <IsPresent key="proximity.types.creature"/>
                    <IsPresent key="proximity.types.vehicle"/>
                </Or>
            </conditions>
        </TextLayer>
        <TextLayer value="Illus. ${artist}" alignment="center" x="1644" y="4030">
            <Style font="MPlantin" color="#FFFFFF" size="103">
                <shadow color="#000000" dX="5" dY="5"/>
            </Style>
        </TextLayer>
        <TextLayer id="copyright" value="™ &amp; © 2021 Wizards of the Coast" alignment="center" x="1644" y="4120">
            <Style font="MPlantin" color="#FFFFFF" size="68">
                <shadow color="#000000" dX="2" dY="2"/>
            </Style>
            <conditions>
                <Or>
                    <IsPresent key="proximity.types.planeswalker"/>
                    <IsPresent key="proximity.types.creature"/>
                    <IsPresent key="proximity.types.vehicle"/>
                </Or>
            </conditions>
        </TextLayer>
    </layers>
</Template>